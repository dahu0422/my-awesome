# 输入 URl 加载过程

## 浏览器解析 URL

浏览器会解析出协议、主机名、端口、路径、查询参数等；

## 检查缓存

浏览器会先检查本地缓存（DNS 缓存、HTTP 缓存等），如果资源未过期，可能直接从缓存读取，提升加载速度。

## DNS 解析

如果没命中缓存，浏览器会通过 DNS 解析，将域名转换为服务器 IP 地址。

## 建立 TCP 连接

浏览器与目标服务器建立 TCP 连接，确保双方可以可靠通信。

如果是 HTTPS，还会进行 TSL/SS: 握手，协商加密算法，验证证书，建立安全通道。

## 发送 HTTP/HTTPS 请求

浏览器构造 HTTP 请求报文，发送到服务器。请求内容包含请求行、请求头、请求体等。

## 服务器处理请求并返回相应

服务器收到请求后，处理相关业务逻辑，并返回 HTTP 响应报文。

## 浏览器接收响应

浏览器收到响应后，先根据响应头判断资源类型、缓存策略、重定向等。

## 渲染页面

1. 解析 HTML，构建 DOM
2. 解析 CSS，构建 CSSOM 树
3. 合成渲染书
4. 布局
5. 绘制
6. 合成

## 执行 JS、渲染交互

浏览器执行页面中的 JavaScript，处理交互、数据请求、动态渲染等。

## 关闭连接

HTTP/1.0 默认短连接，HTTP/1.1 默认长连接（keep-alive），HTTP/2 支持多路复用，提升性能。
